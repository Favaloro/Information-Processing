### 6.1 数据整理

---

- 概览
	- 转换：个案排秩，计算变量，对个案内的值计数，重编码，自动重编码
	- 数据：排序个案，选择个案，加权个案，拆分文件，合并文件，分类汇总，转置
- 计算变量
	- 转换-计算变量：目标变量名+标签（cn-en）+函数组（统计量：Mean, Sum, Max...）+如果-当个案满足条件：表达式
		- eg. 总分，平均分
		- eg. 性别="男"
	- 缺失值：变量-缺失-...-范围加上一个可选的离散缺失值
	- 复制数据属性：数据-复制数据属性-活动数据集（当前）-源单选）活动数据集便力量（多选）-属性选择
		- eg. 缺失值
		- 注意：**计算变量**不会随缺失值更新而自动重新计算，需要重新计算变量
	- 选中数据视图中的变量列+DEL即可删除
- 计数赋值
	- 转换-对个案内的值计数-目标变量+目标标签-添加多个成绩变量-定义值-添加
		- eg. 优秀：85 to highest
	- 自定义命令：添加多个成绩变量时设置不同的条件，即（条件）添加在变量名后
	- 缺失值：该命令无法忽略缺失值-定义范围是设置上下限
		- eg. 优秀：85 to 100
- 重编码
	- 转换-从编码为相同变量-……
	- 转换-重编码为不同变量-添加变量-输出变量名称+标签-更改-旧值和新值-（文本自动上引号）-其它所有值+系统缺失+注意勾选输出变量为字符串
	- 应用：原数据不顺手；数据类型不同而无法更新；精确数据的离散化（如成绩分级）
		- eg. 男女性别数字变换，分组男女生再排序，分别做男女生的频度
	- 注意：零界点的小数点 eg. 原数据两位小数，则一个分界为59.50~69.49
- 离散化-可视分箱
	- 转换-可视分享-选择变量-网格（值+标签）+上端点（生成分割点  ）+按照网格值自动生成标签+反向刻度（对左侧序号
	- 视图-值标签
- 频度分析
	- 分析-描述统计-频率-添加（2个）变量
		- eg. 比较性别与gender[性别]的缺失值差异：gender新增缺失值为冲编码时定义
- 求秩分数（自动重编码）
	- 解释：原本数据（如分数）之间的差距不等，新数据按照序号来等距编号（忽略了数据之间的正真距离）
	- 转换-自动重编码-添加变量+添加新名称+重新编码的起点-（生成了新的秩变量）
	- 转换-个案排秩-添加变量+将秩1指定给+结（当相同值时：mean, low, high, sequential并列）
- 样本排序
	-  数据-排序个案-排序依据（依次添加排序的变量）-数据视图发生变化
	- 数据-加权个案 （只能对数值型变量加权）-加权个案：注意，在做其他运算时，加权持续有效
		- 解释：对整个记录利用频率变量进行加权，表示此纪录的重复次数 eg. 原本一条记录90分，加权变量值3，进行频度分析得到频数为3
- 样本抽样
	- 对部分样本操作分析
	- 数据-选择个案-如果条件满足（表达式）-结果：生成筛选变量+左侧删除线
	- 数据-选择个案-随机个案样本-大约所有个案的%
	- 数据-选择个案-使用筛选器变量
	- 在做eg. 频度分析时，仅对筛选的结果样本做运算
- 拆分
	- 数据-拆分文件-拆分变量+比较组-（按单位拍了序）实际再次对性别做频度分析时，按照拆分变量形成多组汇总
	- 同理样本抽样，后续所有操作都对拆分组计算
	- eg. 看每个单位男生女生各有多少人

